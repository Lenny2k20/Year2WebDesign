<!doctype html>
<html lang="en">
    <head>
        <!-- Meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="main.css">

        <title>Register</title>
    </head>
    <body>
        <style>
        body{
            background-image: url(Images/pexels-photo-114296.jpeg)
            }
        </style>

        <!--Navbar-->

        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <a class="navbar-brand" href="index.html">RetroKits</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav">
                    <li class="nav-item active">
                        <a class="nav-link" href="store.html">Store<span class="sr-only">(current)</span></a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            Account
                        </a>
                        <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                            <a class="dropdown-item" href="login.html">Login</a>
                            <a class="dropdown-item" href="register.html">Register</a>
                        </div>
                    </li>
                </ul>
            </div>
        </nav>


        <main class="container">
            <div id="wrapper">
                <header>
                    <h1>Basic User Registration</h1>
                </header>
            </div>

            <div class="row">
                <div class="card">
                    <div class="row">    
                        <div class="col-sm col-md-4"> 
                            <form name="registration" action="" method="get">
                                <div class="form-group">
                                    <label for="getEmail">Email address</label>
                                    <input type="email" class="form-control" id="getEmail" name="email" placeholder="Enter valid email address">
                                </div>
                                <div class="form-group">
                                    <label for="getPassword1">Password</label> 
                                    <input type="password" class="form-control" id="getPassword1" name="password1" placeholder="Password should contain 8 characters">
                                </div>    
                                <input type='submit' class="btn btn-primary" value="Submit">
                            </form>
                        </div> 
                        <div class="col=sm col-md-8"> 
                            <h2>For debugging etc..</h2>
                            <p>Check the console log in developer tools to see the values from the form. Check <a target='_blank' href="formdemoresults.html">Reg Results.html</a> to see the results in another page</p>
                        </div>
                        <div class="container py-5">


                            <div class="row mb-4">
                                <div class="col-lg-8 mx-auto text-center">
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-lg-7 mx-auto">
                                    <div class="bg-white rounded-lg shadow-sm p-5">
                                        <!-- Credit card form tabs -->
                                        <ul role="tablist" class="nav bg-light nav-pills rounded-pill nav-fill mb-3">
                                            <li class="nav-item">
                                                <a data-toggle="pill" href="#nav-tab-card" class="nav-link active rounded-pill">
                                                    <i class="fa fa-credit-card"></i>
                                                    Credit Card
                                                </a>
                                            </li>
                                            <li class="nav-item">
                                                <a data-toggle="pill" href="#nav-tab-paypal" class="nav-link rounded-pill">
                                                    <i class="fa fa-paypal"></i>
                                                    Paypal
                                                </a>
                                            </li>
                                            <li class="nav-item">
                                                <a data-toggle="pill" href="#nav-tab-bank" class="nav-link rounded-pill">
                                                    <i class="fa fa-university"></i>
                                                    Bank Transfer
                                                </a>
                                            </li>
                                        </ul>
                                        <!-- End -->
                                        <script>$(function() {
                                                $('[data-toggle="tooltip"]').tooltip()

                                            })

                                        </script>
                                        <!-- Credit card form content -->
                                        <div class="tab-content">

                                            <!-- credit card info-->
                                            <div id="nav-tab-card" class="tab-pane fade show active">
                                                <p class="alert alert-success">Some text success or error</p>
                                                <form role="form">
                                                    <div class="form-group">
                                                        <label for="username">Full name (on the card)</label>
                                                        <input type="text" name="username" placeholder="Joe Mama" required class="form-control">
                                                    </div>
                                                    <div class="form-group">
                                                        <label for="cardNumber">Card number</label>
                                                        <div class="input-group">
                                                            <input type="text" name="cardNumber" placeholder="Your card number" class="form-control" required>
                                                            <div class="input-group-append">
                                                                <span class="input-group-text text-muted">
                                                                    <i class="fa fa-cc-visa mx-1"></i>
                                                                    <i class="fa fa-cc-amex mx-1"></i>
                                                                    <i class="fa fa-cc-mastercard mx-1"></i>
                                                                </span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-sm-8">
                                                            <div class="form-group">
                                                                <label><span class="hidden-xs">Expiration</span></label>
                                                                <div class="input-group">
                                                                    <input type="number" placeholder="MM" name="" class="form-control" required>
                                                                    <input type="number" placeholder="YY" name="" class="form-control" required>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="col-sm-4">
                                                            <div class="form-group mb-4">
                                                                <label data-toggle="tooltip" title="Three-digits code on the back of your card">CVV
                                                                    <i class="fa fa-question-circle"></i>
                                                                </label>
                                                                <input type="text" required class="form-control">
                                                            </div>
                                                        </div>



                                                    </div>
                                                    <button type="button" class="subscribe btn btn-primary btn-block rounded-pill shadow-sm"> Confirm  </button>
                                                </form>
                                            </div>
                                            <!-- End -->

                                            <!-- Paypal info -->
                                            <div id="nav-tab-paypal" class="tab-pane fade">
                                                <p>Paypal is easiest way to pay online</p>
                                                <p>
                                                    <button type="button" class="btn btn-primary rounded-pill"><i class="fa fa-paypal mr-2"></i> Log into my Paypal</button>
                                                </p>
                                                <p class="text-muted">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
                                                </p>
                                            </div>
                                            <!-- End -->

                                            <!-- bank transfer info -->
                                            <div id="nav-tab-bank" class="tab-pane fade">
                                                <h6>Bank account details</h6>
                                                <dl>
                                                    <dt>Bank</dt>
                                                    <dd> THE WORLD BANK</dd>
                                                </dl>
                                                <dl>
                                                    <dt>Account number</dt>
                                                    <dd>7775877975</dd>
                                                </dl>
                                                <dl>
                                                    <dt>IBAN</dt>
                                                    <dd>CZ7775877975656</dd>
                                                </dl>
                                                
                                                
                                            </div>
                                            <!-- End -->
                                        </div>
                                        <!-- End -->

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>   

                    <script src="https://js.stripe.com/v3/"></script>
                    <form>
                        
                        <button type="submit">Pay</button>
                        <div class="outcome">
                            <div class="error" role="alert"></div>
                            <div class="success">
                                Success! Your Stripe token is <span class="token"></span>
                            </div>
                        </div>
                    </form>
                </div></div> 

        </main>
        <script src="jquery-min.js"></script>
        <script src="bootstrap.bundle.min.js"></script>    
        <script>

            var stripe = Stripe('pk_test_sRclQLhjCXt0takAo5Hj7H9Q');
            var elements = stripe.elements();

            var card = elements.create('card', {
                iconStyle: 'solid',
                style: {
                    base: {
                        iconColor: '#8898AA',
                        color: 'green',
                        lineHeight: '36px',
                        fontWeight: 300,
                        fontFamily: '"Helvetica Neue", Helvetica, sans-serif',
                        fontSize: '22px',

                        '::placeholder': {
                            color: 'black',
                        },
                    },
                    invalid: {
                        iconColor: '#e85746',
                        color: 'brick',
                    }
                },
                classes: {
                    focus: 'is-focused',
                    empty: 'is-empty',
                },
            });
            card.mount('#card-element');

            var inputs = document.querySelectorAll('input.field');
            Array.prototype.forEach.call(inputs, function(input) {
                input.addEventListener('focus', function() {
                    input.classList.add('is-focused');
                });
                input.addEventListener('blur', function() {
                    input.classList.remove('is-focused');
                });
                input.addEventListener('keyup', function() {
                    if (input.value.length === 0) {
                        input.classList.add('is-empty');
                    } else {
                        input.classList.remove('is-empty');
                    }
                });
            });

            function setOutcome(result) {
                var successElement = document.querySelector('.success');
                var errorElement = document.querySelector('.error');
                successElement.classList.remove('visible');
                errorElement.classList.remove('visible');

                if (result.token) {
                    // Use the token to create a charge or a customer
                    // https://stripe.com/docs/charges
                    successElement.querySelector('.token').textContent = result.token.id;
                    successElement.classList.add('visible');
                } else if (result.error) {
                    errorElement.textContent = result.error.message;
                    errorElement.classList.add('visible');
                }
            }

            card.on('change', function(event) {
                setOutcome(event);
            });

            document.querySelector('form').addEventListener('submit', function(e) {
                e.preventDefault();
                var form = document.querySelector('form');
                var extraDetails = {
                    name: form.querySelector('input[name=cardholder-name]').value,
                };
                stripe.createToken(card, extraDetails).then(setOutcome);
            });




            // javascript code will only run once the DOM is ready   
            $(document).ready(function(){
                // wait for a submit event on the form
                $( "form" ).submit(function( event ) {
                    // get the values of the form into an array
                    var formValues=$( this ).serializeArray() ;
                    // write the formvalues to the console log
                    console.log( formValues );
                    localStorage.setItem('regForm', JSON.stringify(formValues));
                    // prevent the form from actually submitting - event.preventDefault() could also be used..
                    return false;
                });       
            });
        </script>     
        <script src="https://js.stripe.com/v3/"></script>
    </body>
    
     <footer class="bg-light text-center text-lg-start">
            <!-- Copyright -->
            <div class="text-center p-3" style="background-color: black; color: white" >
                © 2020 Copyright:
                <a class="text-light" href="https://mdbootstrap.com/"></a>
            </div>
            <!-- Copyright -->
        </footer>

    <!--jQuery and Bootstrap Bundle (includes Popper) -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
</html>